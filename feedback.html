<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="Kirat Sweets And Dairy Logo.jpeg" type="x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feedback-Kirat Sweets And Dairy</title>
    <style>
        .kbar {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
    border-bottom: 4px solid black;
    border-top: 4px solid black;
    background-color:#2a91fe;
}

.kbar button {
    color: orange;
    border: 3px solid orange;
    padding: 8px;
    margin: 10px;
    font-size: 18px;
    cursor: pointer;
    border-radius: 10px;
    height: 50px; 
    width: 125px; 
    position: relative;
    transition: background-color 0.3s, transform 0.3s;
    z-index: 1;
    font-family: "Old Standard TT", serif;
    font-weight:bold;
}

.kbar button:hover {
    background-color: orange;
    color: white; 
    transform: scale(1.2);
}

.kbar button:before {
    transition: 0.35s all ease;
    position: absolute;
    top: 0;
    left: 50%;
    right: 50%;
    bottom: 0;
    opacity: 0;
    content: "";
    background-color: orange ;
    border: 3px solid white;
    z-index:-1;
    border-radius: 10px;
}

.kbar button:hover:before,
.kbar button:focus:before {
    transition: 0.5s all ease;
    left: 0;
    right: 0;
    opacity: 1;   
}
.p{
            display: flex;
            flex-wrap: wrap;
            justify-content:space-between;
            align-items: center;
            padding: 5px;
            margin-left:21%;
            margin-top: 0;
        }
        .p button{
            color: white;
            background-color: #007BFF;
            border: none;
            padding: 5px;
            margin: 0;
            font-size: 16px;
            cursor: pointer;
            border-radius: 10px;
            transition: background-color 0.3s, transform 0.3s;
            height: 50px;
            width:250px;
        
        }
        .p button:hover {
            background-color: blue;
            transform: scale(1.05);}
            .chatbot-icon {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background-color: #f2c94c;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
        }
        .chatbot-icon img {
             width: 30px;
            height: 30px;
        }
        .chatbot-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 25%;
            height: 100%;
            background-color: white;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.5);
            z-index: 2000;
            padding: 20px;
            overflow: auto;
        }
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Fredoka:wght@300..700&family=Gowun+Batang:wght@400;700&family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">
    <link rel = "stylesheet" href = "C:\Users\Kirti\Desktop\FEE PROJECT\feed.css">
    </head>
    <body><div style="background-color:white; color:black; padding:0;">
        <div class="kbar">
        <button onclick="navigateTo('home.html')">Home</button>
    <button onclick="navigateTo('about.html')">About Us</button>
    <button onclick="navigateTo('menu.html')">Menu</button>
    <button onclick="navigateTo('reservations.html')">Book A Table</button>
    <button onclick="navigateTo('gallery.html')">Gallery</button>
    <button onclick="navigateTo('blogs.html')">Blogs</button>
    <button onclick="navigateTo('events.html')">Events</button>
    <button onclick="navigateTo('contact.html')">Contact Us</button>
    <button onclick="navigateTo('faq.html')">FAQ</button>
    <button onclick="navigateTo('feedback.html')">Feedback</button></div>
    <script>
        function navigateTo(page){window.location.href = page;}
    </script>

    
<div style="font-size: 35px; font-family:Merriweather, serif; margin: 0; margin: 50px; background-color: orange; height: 500px; width: 800px; justify-content: center; align-items: center; display: flex; border:2px solid black; border-radius: 12px; margin-left: 26%; margin-bottom: 0;">
    
    <form id="feedbackForm" onsubmit="return submitFeedback(event)"><p style="text-align: center; margin: 0; padding: 0;">
    Leave Your Feedback Here</p>
        <p style="justify-content: center; text-align: center; align-items: center;"><input type = "text" id="name" placeholder = "Enter Your Name" style="width: 250px; height: 40px; border: 2px solid #2a91fe; border-radius: 10px;"><br>
        <input type = "number" id="mobile" placeholder = "Enter Your Mobile Number" style="width: 250px; height: 40px; border: 2px solid #2a91fe; border-radius: 10px; margin: 8px;"><br>
        <textarea placeholder = "Enter Your Feedback" id="feedback" rows = "5" style="width: 250px; height: 40px; border: 2px solid #2a91fe; border-radius: 10px; margin-bottom: 0; padding: 5px;"></textarea>
        <div class="p"><button type="Submit">Send</button></div></p></form>
</div>

<h2> <u>Customer Reviews</u></h2>
<div class = "reviews">
    <div class="reviews" id="reviews"></div>
    </div>
<div class="chatbot-icon" onclick="toggleChatbot()">
    <img src="https://img.icons8.com/ios-filled/50/000000/chat.png" alt="Chat Icon"/>
</div>

<div class="overlay" id="overlay" onclick="toggleChatbot()"></div>

<div class="chatbot-modal" id="chatbotModal">
    <h2>Chat with Us!</h2>
    <iframe
        allow="microphone;"
        width="100%"
        height="590"
        style="border: none; border-radius: 8px;"
        src="https://console.dialogflow.com/api-client/demo/embedded/3a074787-2f24-469a-91ff-6adc0e24cfc8">
    </iframe>
</div>

<script>
    function toggleChatbot() {
        const modal = document.getElementById('chatbotModal');
        const overlay = document.getElementById('overlay');
        if (modal.style.display === "block") {
            modal.style.display = "none";
            overlay.style.display = "none";
        } else {
            modal.style.display = "block";
            overlay.style.display = "block";
        }
    }
</script>
<script>
    const OWNER_PASSWORD = "Kirat123@"; // Set your owner password here

    window.onload = function() {
        const storedReviews = JSON.parse(localStorage.getItem('reviews')) || [];
        storedReviews.forEach((review, index) => displayReview(review.name, review.feedback, index));
    };

    function submitFeedback(event) {
        event.preventDefault(); 
        const name = document.getElementById('name').value;
        const feedback = document.getElementById('feedback').value;

        const review = { name: name, feedback: feedback };
        const storedReviews = JSON.parse(localStorage.getItem('reviews')) || [];
        storedReviews.push(review);
        localStorage.setItem('reviews', JSON.stringify(storedReviews));

        displayReview(name, feedback, storedReviews.length - 1);
        document.getElementById('feedbackForm').reset();
    }

    function displayReview(name, feedback, index) {
        const reviewDiv = document.createElement('div');
        reviewDiv.innerHTML = `
            <h3>${name} <img src="https://static.vecteezy.com/system/resources/thumbnails/002/406/611/small_2x/business-man-cartoon-character-vector.jpg" alt="pic" height="25"/></h3>
            <p>${feedback}</p>
            <button onclick="deleteReview(${index})">Delete</button>
            <hr>`;
        document.getElementById('reviews').prepend(reviewDiv);
    }

    function deleteReview(index) {
        const password = prompt("Enter authority password to delete this review:");

        if (password === OWNER_PASSWORD) {
            const storedReviews = JSON.parse(localStorage.getItem('reviews')) || [];
            storedReviews.splice(index, 1);
            localStorage.setItem('reviews', JSON.stringify(storedReviews));
            document.getElementById('reviews').innerHTML = '';
            storedReviews.forEach((review, i) => displayReview(review.name, review.feedback, i));
        } else {
            alert("Incorrect password!");
        }
    }

    function toggleChatbot() {
        const chatbotModal = document.getElementById('chatbotModal');
        const overlay = document.getElementById('overlay');
        const isVisible = chatbotModal.style.display === "block";

        chatbotModal.style.display = isVisible ? "none" : "block";
        overlay.style.display = isVisible ? "none" : "block";
    }
</script>
</body>
</html>